--jsonpath io
select '$'::jsonpath;
 jsonpath 
----------
 $
(1 row)

select '$.a'::jsonpath;
 jsonpath 
----------
 $."a"
(1 row)

select '$.a.v'::jsonpath;
 jsonpath  
-----------
 $."a"."v"
(1 row)

select '$.a.*'::jsonpath;
 jsonpath 
----------
 $."a".*
(1 row)

select '$.*.[*]'::jsonpath;
 jsonpath 
----------
 $.*[*]
(1 row)

select '$.*[*]'::jsonpath;
 jsonpath 
----------
 $.*[*]
(1 row)

select '$.a.[*]'::jsonpath;
 jsonpath 
----------
 $."a"[*]
(1 row)

select '$.a[*]'::jsonpath;
 jsonpath 
----------
 $."a"[*]
(1 row)

select '$.a.[*][*]'::jsonpath;
  jsonpath   
-------------
 $."a"[*][*]
(1 row)

select '$.a.[*].[*]'::jsonpath;
  jsonpath   
-------------
 $."a"[*][*]
(1 row)

select '$.a[*][*]'::jsonpath;
  jsonpath   
-------------
 $."a"[*][*]
(1 row)

select '$.a[*].[*]'::jsonpath;
  jsonpath   
-------------
 $."a"[*][*]
(1 row)

select '$[*]'::jsonpath;
 jsonpath 
----------
 $[*]
(1 row)

select '$[0]'::jsonpath;
 jsonpath 
----------
 $[0]
(1 row)

select '$[*][0]'::jsonpath;
 jsonpath 
----------
 $[*][0]
(1 row)

select '$[*].a'::jsonpath;
 jsonpath 
----------
 $[*]."a"
(1 row)

select '$[*][0].a.b'::jsonpath;
    jsonpath     
-----------------
 $[*][0]."a"."b"
(1 row)

select '$.a.**.b'::jsonpath;
   jsonpath   
--------------
 $."a".**."b"
(1 row)

select '$.a.**{2}.b'::jsonpath;
    jsonpath     
-----------------
 $."a".**{2}."b"
(1 row)

select '$.a.**{2,2}.b'::jsonpath;
    jsonpath     
-----------------
 $."a".**{2}."b"
(1 row)

select '$.a.**{2,5}.b'::jsonpath;
     jsonpath      
-------------------
 $."a".**{2,5}."b"
(1 row)

select '$.a.**{,5}.b'::jsonpath;
     jsonpath     
------------------
 $."a".**{,5}."b"
(1 row)

select '$.a.**{5,}.b'::jsonpath;
     jsonpath     
------------------
 $."a".**{5,}."b"
(1 row)

select '$+1'::jsonpath;
 jsonpath 
----------
 ($ + 1)
(1 row)

select '$-1'::jsonpath;
 jsonpath 
----------
 ($ - 1)
(1 row)

select '$--+1'::jsonpath;
 jsonpath 
----------
 ($ - -1)
(1 row)

select '$.a/+-1'::jsonpath;
   jsonpath   
--------------
 ($."a" / -1)
(1 row)

select '$.g ? (@ == 1)'::jsonpath;
    jsonpath    
----------------
 $."g"?(@ == 1)
(1 row)

select '$.g ? (a == 1)'::jsonpath;
     jsonpath     
------------------
 $."g"?("a" == 1)
(1 row)

select '$.g ? (.a == 1)'::jsonpath;
      jsonpath      
--------------------
 $."g"?(@."a" == 1)
(1 row)

select '$.g ? (@.a == 1)'::jsonpath;
      jsonpath      
--------------------
 $."g"?(@."a" == 1)
(1 row)

select '$.g ? (@.a == 1 || a == 4)'::jsonpath;
            jsonpath            
--------------------------------
 $."g"?(@."a" == 1 || "a" == 4)
(1 row)

select '$.g ? (@.a == 1 && a == 4)'::jsonpath;
            jsonpath            
--------------------------------
 $."g"?(@."a" == 1 && "a" == 4)
(1 row)

select '$.g ? (@.a == 1 || a == 4 && b == 7)'::jsonpath;
                  jsonpath                  
--------------------------------------------
 $."g"?(@."a" == 1 || "a" == 4 && "b" == 7)
(1 row)

select '$.g ? (@.a == 1 || !(a == 4) && b == 7)'::jsonpath;
                   jsonpath                    
-----------------------------------------------
 $."g"?(@."a" == 1 || !("a" == 4) && "b" == 7)
(1 row)

select '$.g ? (@.a == 1 || !(x >= 123 || a == 4) && b == 7)'::jsonpath;
                          jsonpath                           
-------------------------------------------------------------
 $."g"?(@."a" == 1 || !("x" >= 123 || "a" == 4) && "b" == 7)
(1 row)

select '$.g ? (.x >= @[*]?(@.a > "abc"))'::jsonpath;
               jsonpath                
---------------------------------------
 $."g"?(@."x" >= @[*]?(@."a" > "abc"))
(1 row)

select '$.g ? ((x >= 123 || a == 4) is unknown)'::jsonpath;
                  jsonpath                   
---------------------------------------------
 $."g"?(("x" >= 123 || "a" == 4) is unknown)
(1 row)

select '$.g ? (zip == $zip)'::jsonpath;
        jsonpath         
-------------------------
 $."g"?("zip" == $"zip")
(1 row)

select '$.a.[1,2, 3 to 16]'::jsonpath;
                   jsonpath                    
-----------------------------------------------
 $."a"[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]
(1 row)

select '$.a[1,2, 3 to 16]'::jsonpath;
                   jsonpath                    
-----------------------------------------------
 $."a"[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]
(1 row)

select '$ ? (a < 1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < -1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < -1)
(1 row)

select '$ ? (a < +1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < .1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < -.1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < -0.1)
(1 row)

select '$ ? (a < +.1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < 0.1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < -0.1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < -0.1)
(1 row)

select '$ ? (a < +0.1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < 10.1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 10.1)
(1 row)

select '$ ? (a < -10.1)'::jsonpath;
    jsonpath     
-----------------
 $?("a" < -10.1)
(1 row)

select '$ ? (a < +10.1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 10.1)
(1 row)

select '$ ? (a < 1e1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < 10)
(1 row)

select '$ ? (a < -1e1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < -10)
(1 row)

select '$ ? (a < +1e1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < 10)
(1 row)

select '$ ? (a < .1e1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < -.1e1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < -1)
(1 row)

select '$ ? (a < +.1e1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < 0.1e1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < -0.1e1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < -1)
(1 row)

select '$ ? (a < +0.1e1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < 10.1e1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 101)
(1 row)

select '$ ? (a < -10.1e1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < -101)
(1 row)

select '$ ? (a < +10.1e1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 101)
(1 row)

select '$ ? (a < 1e-1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < -1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < -0.1)
(1 row)

select '$ ? (a < +1e-1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 0.1)
(1 row)

select '$ ? (a < .1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 0.01)
(1 row)

select '$ ? (a < -.1e-1)'::jsonpath;
    jsonpath     
-----------------
 $?("a" < -0.01)
(1 row)

select '$ ? (a < +.1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 0.01)
(1 row)

select '$ ? (a < 0.1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 0.01)
(1 row)

select '$ ? (a < -0.1e-1)'::jsonpath;
    jsonpath     
-----------------
 $?("a" < -0.01)
(1 row)

select '$ ? (a < +0.1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 0.01)
(1 row)

select '$ ? (a < 10.1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 1.01)
(1 row)

select '$ ? (a < -10.1e-1)'::jsonpath;
    jsonpath     
-----------------
 $?("a" < -1.01)
(1 row)

select '$ ? (a < +10.1e-1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < 1.01)
(1 row)

select '$ ? (a < 1e+1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < 10)
(1 row)

select '$ ? (a < -1e+1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < -10)
(1 row)

select '$ ? (a < +1e+1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < 10)
(1 row)

select '$ ? (a < .1e+1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < -.1e+1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < -1)
(1 row)

select '$ ? (a < +.1e+1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < 0.1e+1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < -0.1e+1)'::jsonpath;
   jsonpath   
--------------
 $?("a" < -1)
(1 row)

select '$ ? (a < +0.1e+1)'::jsonpath;
  jsonpath   
-------------
 $?("a" < 1)
(1 row)

select '$ ? (a < 10.1e+1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 101)
(1 row)

select '$ ? (a < -10.1e+1)'::jsonpath;
    jsonpath    
----------------
 $?("a" < -101)
(1 row)

select '$ ? (a < +10.1e+1)'::jsonpath;
   jsonpath    
---------------
 $?("a" < 101)
(1 row)

